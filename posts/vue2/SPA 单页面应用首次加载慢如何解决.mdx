---
title: SPA 单页面应用首次加载慢如何解决
date: 2023-12-12
category: Vue2
---

# 单页面应用首次加载慢的原因

由于单页面应用首次加载项目时 就需要加载所有的静态资源 也就是使用 webpack 等打包工具打包出的 dist 文件夹下的所有内容 包括的 js、 css、 html、图片等 所以如果第一次加载的内容很多 下载资源就会很慢 只有当资源文件下载完成以后才开始渲染首屏 所以当资源过大时 会阻塞项目的渲染 看起来加载就会很慢 实际上项目大了也确实是慢 实际渲染时间可能几百毫秒

# 如何解决单页面应用首次加载慢

-   对静态文件进行压缩 比如图片类的资源 在打包时使用一些压缩插件进行压缩
-   使用打包工具打包时开启 gzip 对代码进行压缩 在部署项目时 nginx 也需要开启 gzip 大部分压缩过的代码可以压缩 20 倍以上
-   对项目的组件、UI 组件库采用懒加载的方式 采用懒加载就会在使用到组件时再进行加载 入口文件打包出来就会小很多 加载会快一些
-   对一些有稳定 cdn 的插件库 比如 UI 组件库等 可以使用在线 cdn 进行引入 就不需要打包在自己的项目里

当用户等待时间不长 也不短时可以做的

-   在加载时 为项目增加加载动画 比如 loading 动画、骨架屏等 让用户有一定的视觉上的反馈

!!! success TIPS
在小项目中遇到首屏加载慢的时候 只需要开启 gzip 就很快了
!!!
