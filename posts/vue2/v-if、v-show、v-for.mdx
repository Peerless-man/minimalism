---
title: v-if、v-show、v-for
date: 2023-12-12
category: Vue2
---

!!! success TIPS
整篇都是重点
!!!

# v-if 和 v-show 的区别

v-if 通过控制是否渲染元素来对元素进行显示与隐藏 对于一些切换少 并且可能会不渲染的元素来说 使用 v-if 会更好

v-show 通过控制元素样式 display 来控制元素的显示与隐藏 适合频繁切换 只在第一次渲染时消耗性能 但是他的缺点是不管有没有数据这个dom它都会渲染(可能这个组件的定义就是有数据才显示 没数据就不展示) 对于这种情况就会避免不必要的渲染 v-if 是更好的选择

# v-if 和 v-for 的优先级

v-if 的优先级是低于 v-for 的 所以 v-if 和 v-for 一起适用时 会将列表先渲染出来 再通过 v-if 判断当前的列表项的显隐 本来不不需要渲染的一行 还被渲染出来又被 v-if 销毁掉 就会造成性能的浪费

问：我们可以怎么避免 v-if 和 v-for 连用

> 答：我们遇到这个情况的时候 可以在获取到数据的时候对数据进行循环过滤 然后再使用 v-for 来渲染

# v-for 中为什么要使用 key

通常在使用 v-for 时 我们都会绑定一个 key 值 并且绑定的是唯一值 因为当数据变化时 diff 算法 在有 key 时 可以通过对比唯一的 key 来渲染存在变化的 dom 保留没有变化的 dom 从而提高性能

问：为什么不推荐 index 下标作为 key

> 答：因为在数组里 当数组内的某一项发生变化时 可能会因为这一项导致整个数组的 key 发生变化 导致 dom 全部重新渲染 浪费性能

小知识

v-if 可以单独使用 但 v-else、v-else-if 需要搭配 v-if 才能使用
