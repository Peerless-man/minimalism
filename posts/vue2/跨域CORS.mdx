---
title: 跨域CORS
date: 2023-12-25
category: Vue2
---

# 同源策略

CORS(Cross-Origin Resource Sharing) 跨域资源共享
在浏览器发起 ajax 请求时 当前网址和被请求的网址协议、域名、端口号必须完全一致，目的是为了防止跨站脚本攻击

# 前端解决跨域的一些常见方法

## 代理

脚手架：
使用过脚手架开发过前端项目的同学应该都知道需要配置代理才能访问后端服务 因为前后端服务不在同一个端口上 这种叫正向代理 通过发送请求时 代理将本地地址代理到指定的服务器地址 这时候用户能看到发送请求访问的是本地地址(前端运行的那个地址) 实际上本地地址已经被代理到服务器去了 我们看不到服务器的地址 会相对安全一些

nginx：
前端请求服务器的 nginx 指定路径时 nginx 会转发前端的请求 转发到指定的后端服务 再返回数据

## jsonp

img、srcipt，link 标签的 src 或 href 属性不受同源策略限制，可以用来作为请求，后端接受请求后返回一个回调函数 callback，调用前端已经定义好的函数，从而实现跨域请求

## 后端设置跨域

后端可以通过设置 Access-Control-Allow-Origin 解决跨域问题

!!! success TIPS
跨域问题在我们开发过程中不会经常遇到 但是里面的知识点却很多 所以这个问题想彻底弄懂 还需要自己多去试一试 试一试本地代理、nginx 反向代理 只有多试才能发现其中的奥秘
!!!

[跨域资源共享-MDN](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS)
